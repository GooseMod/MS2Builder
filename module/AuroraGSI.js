parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"../../../moduleWrappers/goosemod/webpack.js":[function(require,module,exports) {
module.exports=goosemodScope.webpackModules;
},{}],"index.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("@goosemod/webpack");function n(e,n,t,r,s,o,i){try{var a=e[o](i),u=a.value}catch(d){return void t(d)}a.done?n(u):Promise.resolve(u).then(r,s)}function t(e){return function(){var t=this,r=arguments;return new Promise(function(s,o){var i=e.apply(t,r);function a(e){n(i,s,o,a,u,"next",e)}function u(e){n(i,s,o,a,u,"throw",e)}a(void 0)})}}var r={ready:!1,updateTimer:void 0,json:{},lastJson:{},getCurrentUser:(0,e.findByProps)("getUser","getUsers").getCurrentUser,getStatus:(0,e.findByProps)("getApplicationActivity").getStatus,getChannel:(0,e.findByProps)("getChannel").getChannel,getGuild:(0,e.findByProps)("getGuild").getGuild,channels:(0,e.findByProps)("getChannelId"),getSelectedGuild:function(){var e=r.getChannel(r.channels.getChannelId());return e?r.getGuild(e.guild_id):null},getSelectedTextChannel:function(){return r.getChannel(r.channels.getChannelId())},getSelectedVoiceChannel:function(){return r.getChannel(r.channels.getVoiceChannelId())},getLocalStatus:function(){return r.getStatus(r.getCurrentUser().id)},sendJsonToAurora:function(){var e=t(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:9088/",{method:"POST",body:JSON.stringify(n),mode:"no-cors",headers:{"Content-Type":"application/json"}}).catch(function(e){return console.log("Aurora GSI error: ".concat(e))});case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),stop:function(){clearInterval(r.updatetimer),console.log("Aurora GSI stopped."),r.ready=!1}},s=(0,e.findByProps)("getUser"),o=s.getUser,i=(0,e.findByProps)("isMute","isDeaf","isSelfMute","isSelfDeaf"),a=(0,e.findByProps)("getCalls"),u=a.getCalls,d=(0,e.findByProps)("getUnreadGuilds"),c=d.getUnreadGuilds,l=(0,e.findByProps)("getTotalMentionCount"),f=l.getTotalMentionCount,g=i.isMute.bind(i),p=i.isDeaf.bind(i),m=i.isSelfMute.bind(i),j=i.isSelfDeaf.bind(i),h={goosemodHandlers:{onImport:function(){var e=t(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.json={provider:{name:"discord",appid:-1},user:{id:-1,status:"undefined",self_mute:!1,self_deafen:!1,mentions:!1,unread_messages:!1,being_called:!1},guild:{id:-1,name:""},text:{id:-1,type:-1,name:""},voice:{id:-1,type:-1,name:""}};case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),onLoadingFinished:function(){var e=t(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.updatetimer=setInterval(function(){var e=r.getSelectedGuild(),n=r.getCurrentUser(),t=r.getLocalStatus(),s=r.getSelectedTextChannel(),i=r.getSelectedVoiceChannel();if(n&&t?(r.json.user.id=n.id,r.json.user.status=t):(r.json.user.id=-1,r.json.user.status=""),e?(r.json.guild.id=e.id,r.json.guild.name=e.name):(r.json.guild.id=-1,r.json.guild.name=""),s){if(r.json.text.id=s.id,0===s.type)r.json.text.type=0,r.json.text.name=s.name;else if(1===s.type)r.json.text.type=1,r.json.text.name=o(s.recipients[0]).username;else if(3===s.type)if(r.json.text.type=3,s.name)r.json.text.name=s.name;else{for(var a="",d=0;d<s.recipients.length;d++){var l=s.recipients[d];a+="".concat(o(l).username," ")}r.json.text.name=a}}else r.json.text.id=-1,r.json.text.type=-1,r.json.text.name="";i?1===i.type?(r.json.voice.type=1,r.json.voice.id=i.id,r.json.voice.name=o(i.recipients[0]).username):2===i.type&&(r.json.voice.type=2,r.json.voice.id=i.id,r.json.voice.name=i.name):(r.json.voice.id=-1,r.json.voice.type=-1,r.json.voice.name=""),r.json.user.self_mute=m(),r.json.user.self_deafen=j(),r.json.user.mute=g(),r.json.user.deafen=p(),r.json.user.unread_messages=!1,r.json.user.mentions=!1,r.json.user.being_called=!1,r.json.user.mentions=f(),r.json.user.unread_messages=Object.values(c()).length,u().filter(function(e){return e.ringing.length>0}).length>0&&(r.json.user.being_called=!0),JSON.stringify(r.json)!==r.lastJson&&(r.lastJson=JSON.stringify(r.json),r.sendJsonToAurora(r.json))},100);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),onRemove:function(){var e=t(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.stop();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}};exports.default=h;
},{"@goosemod/webpack":"../../../moduleWrappers/goosemod/webpack.js"}]},{},["index.js"], null);parcelRequire('index.js').default